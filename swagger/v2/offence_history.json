{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Offence histories",
  "description": "Offence histories",
  "id": "offence_history",
  "stability": "prototype",
  "strictProperties": true,
  "type": "object",
  "properties": {
    "mode_of_trial_reasons": {
      "items": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "example": "Court directs trial by jury"
          },
          "code": {
            "type": "string",
            "example": "05"
          }
        }
      },
      "type": "array"
    },
    "pleas": {
      "items": {
        "description": "The defendant's plea for a specific offence",
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "example": "GUILTY",
            "enum": [
              "NO_PLEA_CROWN",
              "GUILTY",
              "NOT_GUILTY",
              "CHANGE_TO_NOT_GUILTY",
              "ADMITS_CROWN",
              "DENIES_CROWN",
              "GUILTY_LESSER_OFFENCE_NAMELY",
              "GUILTY_TO_ALTERNATIVE_OFFENCE",
              "CHANGE_TO_GUILTY_AFTER_SWORN",
              "CHANGE_TO_GUILTY_NO JURY",
              "AUTREFOIS_ACQUIT",
              "AUTREFOIS_CONVICT",
              "PARDON"
            ]
          },
          "pleaded_at": {
            "readOnly": true,
            "description": "The date the defendant entered the plea",
            "example": "2020-02-01",
            "type": "string",
            "pattern": "^((([\\+-]?\\d{4}(?!\\d{2}\b))\\-(0[13578]|1[02])\\-(0[1-9]|[12]\\d|3[01]))|(([\\+-]?\\d{4}(?!\\d{2}\b))\\-(0[13456789]|1[012])\\-(0[1-9]|[12]\\d|30))|(([\\+-]?\\d{4}(?!\\d{2}\b))\\-02\\-(0[1-9]|1\\d|2[0-8]))|(((1[6-9]|[2-9]\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))\\-02\\-29))$"
          },
          "originating_hearing_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "type": "array"
    },
    "id": {
      "type": "string"
    }
  }
}
