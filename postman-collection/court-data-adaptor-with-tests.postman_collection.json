{
	"info": {
		"_postman_id": "151dad4a-8aa8-415e-ba6e-9607dce174fe",
		"name": "Court data adaptor with tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "40175379",
		"_collection_link": "https://laa-court.postman.co/workspace/Core-data-adaptor~d0956e53-eeab-4f28-ae23-15952a53ff85/collection/40175379-151dad4a-8aa8-415e-ba6e-9607dce174fe?action=share&source=collection_link&creator=40175379"
	},
	"item": [
		{
			"name": "Search prosecution case",
			"item": [
				{
					"name": "V2",
					"item": [
						{
							"name": "Prosecution Case URN",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Defendants Included\", function () {",
											"    var json_data = pm.response.json();",
											"    pm.expect(json_data.results[0]).to.haveOwnProperty('defendant_summaries');",
											"});",
											"",
											"pm.test(\"Results is Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"",
											"pm.test(\"Application summaries within Defendants is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var applications = json_data.results[0].defendant_summaries[0].application_summaries;",
											"    pm.expect(applications).to.be.a('array');",
											"});",
											"",
											"",
											"pm.test(\"Defendants within Results is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results[0].defendant_summaries;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Defendant Properties Are Correct\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendant = json_data.results[0].defendant_summaries[0];",
											"    pm.expect(defendant).to.haveOwnProperty('id');",
											"    pm.expect(defendant).to.haveOwnProperty('national_insurance_number');",
											"    pm.expect(defendant).to.haveOwnProperty('arrest_summons_number');",
											"    pm.expect(defendant).to.haveOwnProperty('first_name');",
											"    pm.expect(defendant).to.haveOwnProperty('middle_name');",
											"    pm.expect(defendant).to.haveOwnProperty('last_name');",
											"    pm.expect(defendant).to.haveOwnProperty('date_of_birth');",
											"    pm.expect(defendant).to.haveOwnProperty('proceedings_concluded');",
											"    pm.expect(defendant).to.haveOwnProperty('representation_order');",
											"    pm.expect(defendant).to.haveOwnProperty('offence_summaries');",
											"});",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "\n{\n  \"filter\": {\n    \"prosecution_case_reference\":\"{{urn}}\"\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v2/prosecution_cases",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v2",
										"prosecution_cases"
									]
								}
							},
							"response": []
						},
						{
							"name": "Defendant ASN",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Defendants Included\", function () {",
											"    var json_data = pm.response.json();",
											"    pm.expect(json_data.results[0]).to.haveOwnProperty('defendant_summaries');",
											"});",
											"",
											"pm.test(\"Results is Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Defendants within Results is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results[0].defendant_summaries;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Application summaries within Defendants is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var applications = json_data.results[0].defendant_summaries[0].application_summaries;",
											"    pm.expect(applications).to.be.a('array');",
											"});",
											"",
											"",
											"pm.test(\"Defendant Properties Are Correct\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendant = json_data.results[0].defendant_summaries[0];",
											"    pm.expect(defendant).to.haveOwnProperty('id');",
											"    pm.expect(defendant).to.haveOwnProperty('national_insurance_number');",
											"    pm.expect(defendant).to.haveOwnProperty('arrest_summons_number');",
											"    pm.expect(defendant).to.haveOwnProperty('first_name');",
											"    pm.expect(defendant).to.haveOwnProperty('middle_name');",
											"    pm.expect(defendant).to.haveOwnProperty('last_name');",
											"    pm.expect(defendant).to.haveOwnProperty('date_of_birth');",
											"    pm.expect(defendant).to.haveOwnProperty('proceedings_concluded');",
											"    pm.expect(defendant).to.haveOwnProperty('representation_order');",
											"    pm.expect(defendant).to.haveOwnProperty('offence_summaries');",
											"});",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "\n{\n  \"filter\": {\n    \"arrest_summons_number\": \"{{asn}}\"\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v2/prosecution_cases",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v2",
										"prosecution_cases"
									]
								}
							},
							"response": []
						},
						{
							"name": "Defendant national insurance number",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Defendants Included\", function () {",
											"    var json_data = pm.response.json();",
											"    pm.expect(json_data.results[0]).to.haveOwnProperty('defendant_summaries');",
											"});",
											"",
											"pm.test(\"Results is Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Defendants within Results is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results[0].defendant_summaries;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Application summaries within Defendants is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var applications = json_data.results[0].defendant_summaries[0].application_summaries;",
											"    pm.expect(applications).to.be.a('array');",
											"});",
											"",
											"",
											"pm.test(\"Defendant Properties Are Correct\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendant = json_data.results[0].defendant_summaries[0];",
											"    pm.expect(defendant).to.haveOwnProperty('id');",
											"    pm.expect(defendant).to.haveOwnProperty('national_insurance_number');",
											"    pm.expect(defendant).to.haveOwnProperty('arrest_summons_number');",
											"    pm.expect(defendant).to.haveOwnProperty('first_name');",
											"    pm.expect(defendant).to.haveOwnProperty('middle_name');",
											"    pm.expect(defendant).to.haveOwnProperty('last_name');",
											"    pm.expect(defendant).to.haveOwnProperty('date_of_birth');",
											"    pm.expect(defendant).to.haveOwnProperty('proceedings_concluded');",
											"    pm.expect(defendant).to.haveOwnProperty('representation_order');",
											"    pm.expect(defendant).to.haveOwnProperty('offence_summaries');",
											"});",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "\n{\n  \"filter\": {\n    \"national_insurance_number\": \"{{nin}}\" // this will be redundnat soon as HMCTS do not have this data for most of thier defendants.\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v2/prosecution_cases",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v2",
										"prosecution_cases"
									]
								}
							},
							"response": []
						},
						{
							"name": "Defendant name and date of birth Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Defendants Included\", function () {",
											"    var json_data = pm.response.json();",
											"    pm.expect(json_data.results[0]).to.haveOwnProperty('defendant_summaries');",
											"});",
											"",
											"pm.test(\"Results is Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Defendants within Results is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendants = json_data.results[0].defendant_summaries;",
											"    pm.expect(defendants).to.be.a('array');",
											"});",
											"",
											"",
											"pm.test(\"Application summaries within Defendants is an Array\", function () {",
											"    var json_data = pm.response.json();",
											"    var applications = json_data.results[0].defendant_summaries[0].application_summaries;",
											"    pm.expect(applications).to.be.a('array');",
											"});",
											"",
											"pm.test(\"Defendant Properties Are Correct\", function () {",
											"    var json_data = pm.response.json();",
											"    var defendant = json_data.results[0].defendant_summaries[0];",
											"    pm.expect(defendant).to.haveOwnProperty('id');",
											"    pm.expect(defendant).to.haveOwnProperty('national_insurance_number');",
											"    pm.expect(defendant).to.haveOwnProperty('arrest_summons_number');",
											"    pm.expect(defendant).to.haveOwnProperty('first_name');",
											"    pm.expect(defendant).to.haveOwnProperty('middle_name');",
											"    pm.expect(defendant).to.haveOwnProperty('last_name');",
											"    pm.expect(defendant).to.haveOwnProperty('date_of_birth');",
											"    pm.expect(defendant).to.haveOwnProperty('proceedings_concluded');",
											"    pm.expect(defendant).to.haveOwnProperty('representation_order');",
											"    pm.expect(defendant).to.haveOwnProperty('offence_summaries');",
											"});",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "\n{\n  \"filter\": {\n    \"date_of_birth\": \"{{defendant_dob}}\",\n    \"name\" : \"{{defendant_name}}\"\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v2/prosecution_cases",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v2",
										"prosecution_cases"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Authenticate",
			"item": [
				{
					"name": "generate token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response time is within acceptable range\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"accessToken Included\", function () {",
									"    var json_data = pm.response.json();",
									"    pm.expect(json_data.access_token).to.exist;",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{clientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{clientId}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{url}}/oauth/token?grant_type=client_credentials",
							"host": [
								"{{url}}"
							],
							"path": [
								"oauth",
								"token"
							],
							"query": [
								{
									"key": "grant_type",
									"value": "client_credentials"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Linking",
			"item": [
				{
					"name": "V2",
					"item": [
						{
							"name": "LAA reference unlink defendant from a MAAT",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"laa_reference\" : {\n        \"defendant_id\": \"fb529421-160a-44e3-8e58-cb2706a3ce2b\",\n        \"user_name\": \"work-c\", // VCD username of ie case worker \n        \"unlink_reason_code\": 1\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v2/laa_references/{{laaApplicationId}}",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v2",
										"laa_references",
										"{{laaApplicationId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "LAA reference link defendant to a MAAT",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"laa_reference\" : {\n        \"defendant_id\": \"fb529421-160a-44e3-8e58-cb2706a3ce2b\",\n        \"user_name\": \"work-c\", // VCD username of ie case worker \n        \"unlink_reason_code\": 1\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v2/laa_references/{{laaApplicationId}}",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v2",
										"laa_references",
										"{{laaApplicationId}}"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Concluded",
			"item": [
				{
					"name": "V1",
					"item": [
						{
							"name": "Prosecution conclusions",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"prosecutionConcluded\": [\n        {\n            \"prosecutionCaseId\": \"1a86e9ac-4148-490a-907b-c07b3d60242f\",\n            \"defendantId\": \"31ff5d19-be3a-4f5f-8683-cf822cf58378\",\n            \"isConcluded\": true,\n            \"hearingIdWhereChangeOccurred\": \"b0d914eb-6cf0-494d-891e-47658b7cc13f\",\n            \"offenceSummary\": [\n                {\n                    \"offenceId\": \"fd3a195b-ccab-43bb-a2ba-9abbbf7d30de\",\n                    \"offenceCode\": \"PT00011\",\n                    \"proceedingsConcluded\": false,\n                    \"proceedingsConcludedChangedDate\": \"2021-12-17\",\n                    \"verdict\": {\n                        \"originatingHearingId\": \"b0d914eb-6cf0-494d-891e-47658b7cc13f\",\n                        \"verdictDate\": \"2025-03-24T13:21:39.804Z\",\n                        \"verdictType\": {\n                            \"verdictTypeId\": \"66aeff3c-f546-441f-9b00-6569e978582c\",\n                            \"description\": \"Not Guilty\",\n                            \"category\": \"Not Guilty\",\n                            \"categoryType\": \"Not Known\",\n                            \"sequence\": 1163\n                        }\n                    }\n                }\n            ]\n        },\n        {\n            \"prosecutionCaseId\": \"1a86e9ac-4148-490a-907b-c07b3d60242f\",\n            \"defendantId\": \"7e76e73c-de47-4c10-83b9-6bf1a4775e69\",\n            \"isConcluded\": true,\n            \"hearingIdWhereChangeOccurred\": \"b0d914eb-6cf0-494d-891e-47658b7cc13f\",\n            \"offenceSummary\": [\n                {\n                    \"offenceId\": \"c997cbc1-33be-423e-b078-7e9e6a677949\",\n                    \"offenceCode\": \"PT00011\",\n                    \"proceedingsConcluded\": false,\n                    \"proceedingsConcludedChangedDate\": \"2021-12-17\"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/external/v1/prosecution_conclusions",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"external",
										"v1",
										"prosecution_conclusions"
									]
								}
							},
							"response": []
						},
						{
							"name": "Court application conclusions",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"prosecutionConcluded\": [\n        {\n            \"applicationConcluded\": {\n                \"applicationId\": \"cf9807ab-b001-4e2d-9b00-0857179f0f22\",\n                \"applicationResultCode\": \"APA\",\n                \"subjectId\": \"4a3b7428-ac5a-40d2-a648-1161930e4f80\"\n            },\n            \"isConcluded\": true,\n            \"hearingIdWhereChangeOccurred\": \"00d6a4e6-3699-4152-8548-68b39fa1d8f5\",\n            \"offenceSummary\": [\n                {\n                    \"offenceId\": \"49e641d3-d5bb-4ada-a1ef-607fb211f3b9\",\n                    \"offenceCode\": \"PT00011\",\n                    \"proceedingsConcluded\": false,\n                    \"proceedingsConcludedChangedDate\": \"2021-12-17\",\n                    \"verdict\": {\n                        \"originatingHearingId\": \"00d6a4e6-3699-4152-8548-68b39fa1d8f5\",\n                        \"verdictDate\": \"2025-03-24T12:27:55.192Z\",\n                        \"verdictType\": {\n                            \"verdictTypeId\": \"4db34a5d-5561-47d5-9eb7-80854848fd46\",\n                            \"description\": \"Not Guilty\",\n                            \"category\": \"Not Guilty\",\n                            \"categoryType\": \"Not Known\",\n                            \"sequence\": 1203\n                        }\n                    }\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/external/v1/prosecution_conclusions",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"external",
										"v1",
										"prosecution_conclusions"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Representation",
			"item": [
				{
					"name": "V1",
					"item": [
						{
							"name": "Representation orders",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{accessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"data\": {\n    \"type\": \"representation_orders\",\n    \"attributes\": {\n      \"maat_reference\": 6013567,\n      \"defendant_id\": \"02d02c89-bb3d-4e7a-9575-8bb004ccd678\",\n      \"defence_organisation\": {\n        \"organisation\": {\n            \"name\": \"Dave reps order\"\n        },\n        \"laa_contract_number\": \"123456789\" // not sure were this is from probably I thin from crime apps.\n      },\n      \"offences\": [\n      {\n        \"offence_id\": \"d359c7fd-406e-41f3-93a3-4345bfb5f448\",\n        \"status_code\": \"AP\",\n        \"status_date\": \"2025-04-30\",\n        \"effective_start_date\": \"2025-04-01\",\n        \"effective_end_date\": \"2025-04-30\"\n      }\n    ]\n    }\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/internal/v1/representation_orders",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"internal",
										"v1",
										"representation_orders"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Appeals (Court application)",
			"item": [
				{
					"name": "Application",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Application attributes present in the response\", function () {",
									"    var json_data = pm.response.json();",
									"    pm.expect(json_data.application_id).to.exist;",
									"    pm.expect(json_data.short_id).to.exist;",
									"    pm.expect(json_data.application_reference).to.exist;",
									"    pm.expect(json_data.application_status).to.exist;",
									"    pm.expect(json_data.application_title).to.exist;",
									"    pm.expect(json_data.application_type).to.exist;",
									"    pm.expect(json_data.application_result).to.exist;",
									"    pm.expect(json_data.received_date).to.exist;",
									"});",
									"",
									"pm.test(\"Case summary present in the response\", function () {",
									"    var json_data = pm.response.json();",
									"    pm.expect(json_data.case_summary).to.exist;",
									"    pm.expect(json_data.case_summary).to.be.a('array');",
									"});",
									"",
									"",
									"pm.test(\"Subject summary present in the response and has attributes\", function () {",
									"    var json_data = pm.response.json();",
									"    pm.expect(json_data.subject_summary).to.exist;",
									"    pm.expect(json_data.subject_summary).to.be.a('object');",
									"    pm.expect(json_data.subject_summary.subject_id).to.exist;",
									"    pm.expect(json_data.subject_summary.defendant_asn).to.exist;",
									"    pm.expect(json_data.subject_summary.defendant_first_name).to.exist;",
									"    pm.expect(json_data.subject_summary.defendant_last_name).to.exist;",
									"    pm.expect(json_data.subject_summary.master_defendant_id).to.exist;",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/api/internal/v2/court_applications/{{applicationId}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"internal",
								"v2",
								"court_applications",
								"{{applicationId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "LAA court application reference unlink defendant from MAAT",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(202);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"laa_reference\" : {\n        \"subject_id\": \"0566c538-afa5-4467-9666-845fe1ffd5e5\",\n        \"user_name\": \"work-c\", // VCD username of ie case worker \n        \"unlink_reason_code\": 0\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/internal/v2/court_application_laa_references/{{laaApplicationId}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"internal",
								"v2",
								"court_application_laa_references",
								"{{laaApplicationId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "LAA court application reference link defendant to a MAAT",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(202);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"laa_reference\" : {\n        \"subject_id\": \"0566c538-afa5-4467-9666-845fe1ffd5e5\",\n        \"user_name\": \"work-c\", // VCD username of ie case worker \n        \"maat_reference\": 6013589\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/internal/v2/court_application_laa_references",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"internal",
								"v2",
								"court_application_laa_references"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}
